Ejercicios

Ejercicio 1

¿Cuál es el comando que necesito ejecutar para poder levantar un contenedor de Docker que corra un servidor de MongoDB versión 4.4 y que cumpla con los siguientes puntos?

Que el contenedor se llame mongo_db
Que el contenedor se mantenga en ejecución
Que el puerto asignado a la máquina host sea el 27027
Que el usuario sea foo
Que el password sea bar123
Que se cree una base de datos llamada baz
Que se cree una colección en la base de datos de baz llamada qux

//ver contenedores en ejecucion
$sudo docker ps -a

//creamos el contenedor de mongodb con su user y pass
$ sudo docker run -d -p 27027:27027 --name mongo_db -e MONGODB_USER="foo" -e MONGODB_PASS="bar123" mongo:4.4

//volvemos a listar los contenedores
$ sudo docker ps -a

//ejecutamos el contenedor
$ sudo docker exec -it mongo_db /bin/bash

//dentro de la session o terminal del contenedor entramos a mongodb
root@6f86d308d77a:/# mongo

//dentro del CLI de mongo listamos las bases de datos
> show dbs

//si exite la base de dato la usamos si no se no crea
> use baz

//insertamos datos en la colección
> db.qux.insertOne({name:"al",age:18,status:"D",goups:["politics","news"]})

//mostramos la colección
> db.qux.find({})

¿Con qué comando(s) puedo conectarme a la base de datos de MongoDB corriendo dentro de mi contenedor de mongo_db?
//dentro de la session o terminal del contenedor entramos a mongodb
root@6f86d308d77a:/# mongo

¿Cómo puedo insertar este registro en la colección de qux creada previamente?
/insertamos datos en la colección

> db.qux.insertOne({name:"al",age:18,status:"D",goups:["politics","news"]})

//con el comando "db" hace referencia a la base de datos que estemos usando
//"qux" se crea si es que no exite
//"insertOne" me inserta un objeto a la base de datos











